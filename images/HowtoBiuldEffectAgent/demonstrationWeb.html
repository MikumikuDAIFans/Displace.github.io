<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building Effective Agents - Knowledge Share</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* 自定义动画 */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        
        @keyframes spin-slow {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin-slow 8s linear infinite;
        }

        /* 滚动条美化 
           虽然允许滚动，但我们让滚动条尽量低调，保持应用质感
        */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: rgba(156, 163, 175, 0.5);
            border-radius: 20px;
        }
    </style>
</head>
<!-- 
  修改说明：
  1. h-screen flex flex-col: 确保 body 占满屏幕高度且垂直布局
  2. overflow-hidden: 防止整个页面出现双重滚动条，只让中间部分滚
-->
<body class="bg-gray-50 text-gray-900 font-sans h-screen flex flex-col overflow-hidden">

    <!-- Header: flex-none 防止被挤压 -->
    <header class="bg-white border-b border-gray-200 p-4 flex justify-between items-center shadow-sm flex-none z-20 relative">
        <div class="flex items-center space-x-2">
            <div class="w-8 h-8 bg-gray-900 rounded-lg flex items-center justify-center text-white font-bold text-lg">A</div>
            <span class="font-semibold text-lg tracking-tight">Anthropic Engineering Patterns</span>
        </div>
        <div class="text-sm text-gray-500 hidden sm:block" id="slide-counter">
            <!-- JS populated -->
        </div>
    </header>

    <!-- 
      Main Content: 
      1. flex-1: 占据剩余所有空间
      2. overflow-y-auto: 内容过多时，只有这个区域滚动
      3. custom-scrollbar: 应用自定义滚动条样式
    -->
    <main class="flex-1 overflow-y-auto custom-scrollbar p-4 sm:p-6 md:p-12 w-full relative">
        <div class="max-w-6xl mx-auto min-h-full flex flex-col items-center justify-center">
            
            <!-- Slide Container: 移除了 min-h 强制限制，允许内容自然撑开 -->
            <div id="slide-container" class="w-full max-w-4xl bg-white rounded-2xl shadow-xl flex flex-col p-6 sm:p-10 md:p-16 transition-all duration-500 ease-in-out mb-8">
                <!-- Content injected here -->
            </div>

        </div>
    </main>

    <!-- Footer: flex-none 固定在底部 -->
    <footer class="bg-white p-4 border-t border-gray-200 flex justify-center items-center space-x-8 flex-none z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]">
        <button id="btn-prev" class="p-3 rounded-full transition-all bg-gray-900 text-white hover:bg-gray-700 shadow-lg disabled:bg-gray-100 disabled:text-gray-300 disabled:shadow-none focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900">
            <i data-lucide="chevron-left" class="w-6 h-6"></i>
        </button>
        
        <!-- Progress Bar -->
        <div class="w-32 sm:w-48 h-2 bg-gray-200 rounded-full overflow-hidden">
            <div id="progress-bar" class="h-full bg-blue-600 transition-all duration-300 ease-out" style="width: 0%"></div>
        </div>

        <button id="btn-next" class="p-3 rounded-full transition-all bg-gray-900 text-white hover:bg-gray-700 shadow-lg disabled:bg-gray-100 disabled:text-gray-300 disabled:shadow-none focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900">
            <i data-lucide="chevron-right" class="w-6 h-6"></i>
        </button>
    </footer>
    
    <div class="hidden sm:block absolute bottom-20 right-8 text-xs text-gray-400 pointer-events-none z-0">
        Use Arrow Keys to Navigate
    </div>

    <script>
        // --- Diagrams Data (HTML Strings) ---
        // 保持不变，可以直接复用之前的 SVG 代码
        const Diagrams = {
            chain: `
                <div class="flex items-center justify-center space-x-2 sm:space-x-4 w-full h-auto py-8 animate-fade-in overflow-x-auto">
                    <div class="bg-blue-100 border-2 border-blue-500 text-blue-800 p-4 rounded-lg shadow-md flex flex-col items-center min-w-[100px] w-32">
                        <div class="text-xs uppercase font-bold mb-2">Step 1</div>
                        <i data-lucide="terminal" class="w-6 h-6"></i>
                        <div class="text-sm mt-2 font-medium">输入提取</div>
                    </div>
                    <i data-lucide="arrow-right" class="text-gray-400 animate-pulse w-6 h-6 shrink-0"></i>
                    <div class="bg-blue-100 border-2 border-blue-500 text-blue-800 p-4 rounded-lg shadow-md flex flex-col items-center min-w-[100px] w-32">
                        <div class="text-xs uppercase font-bold mb-2">Step 2</div>
                        <i data-lucide="book-open" class="w-6 h-6"></i>
                        <div class="text-sm mt-2 font-medium">逻辑处理</div>
                    </div>
                    <i data-lucide="arrow-right" class="text-gray-400 animate-pulse w-6 h-6 shrink-0"></i>
                    <div class="bg-green-100 border-2 border-green-500 text-green-800 p-4 rounded-lg shadow-md flex flex-col items-center min-w-[100px] w-32">
                        <div class="text-xs uppercase font-bold mb-2">Step 3</div>
                        <i data-lucide="layout" class="w-6 h-6"></i>
                        <div class="text-sm mt-2 font-medium">格式输出</div>
                    </div>
                </div>
            `,
            routing: `
                <div class="relative w-full h-[340px] flex flex-col items-center justify-start pt-4 animate-fade-in">
                    <!-- Input -->
                    <div class="absolute top-0 bg-gray-100 border-2 border-gray-400 text-gray-700 p-3 rounded-lg w-40 text-center font-medium shadow-sm z-20">
                        用户查询
                    </div>
                    
                    <!-- Router -->
                    <div class="absolute top-24 bg-purple-100 border-2 border-purple-500 text-purple-800 p-4 rounded-full w-24 h-24 flex flex-col items-center justify-center shadow-lg z-10">
                        <i data-lucide="git-branch" class="w-7 h-7"></i>
                        <span class="text-xs font-bold mt-1">Router</span>
                    </div>

                    <!-- Paths SVG -->
                    <svg class="absolute w-full h-full pointer-events-none top-0 left-0" style="z-index: 0">
                        <path d="M 50% 50 L 50% 96" stroke="#9CA3AF" stroke-width="2" fill="none" />
                        <!-- Left Path -->
                        <path d="M 50% 192 C 50% 240 20% 240 20% 280" stroke="#CBD5E1" stroke-width="2" stroke-dasharray="5,5" fill="none" />
                        <!-- Center Path -->
                        <path d="M 50% 192 C 50% 240 50% 240 50% 280" stroke="#CBD5E1" stroke-width="2" stroke-dasharray="5,5" fill="none" />
                        <!-- Right Path -->
                        <path d="M 50% 192 C 50% 240 80% 240 80% 280" stroke="#CBD5E1" stroke-width="2" stroke-dasharray="5,5" fill="none" />
                    </svg>

                    <!-- Outputs -->
                    <div class="absolute bottom-0 w-full flex justify-between px-2 sm:px-16">
                        <div class="bg-red-50 border border-red-300 text-red-700 p-2 sm:p-3 rounded w-24 sm:w-32 text-center text-xs sm:text-sm shadow-sm z-20">
                            <span class="font-bold block mb-1">一般闲聊</span>
                            Model A
                        </div>
                        <div class="bg-blue-50 border border-blue-300 text-blue-700 p-2 sm:p-3 rounded w-24 sm:w-32 text-center text-xs sm:text-sm shadow-sm z-20">
                            <span class="font-bold block mb-1">技术支持</span>
                            Model B
                        </div>
                        <div class="bg-yellow-50 border border-yellow-300 text-yellow-700 p-2 sm:p-3 rounded w-24 sm:w-32 text-center text-xs sm:text-sm shadow-sm z-20">
                            <span class="font-bold block mb-1">销售退款</span>
                            Model C
                        </div>
                    </div>
                </div>
            `,
            parallel: `
                <div class="flex flex-col items-center justify-center w-full h-auto py-8 animate-fade-in">
                    <div class="bg-gray-800 text-white px-6 py-2 rounded-full mb-8 shadow-lg z-20">任务 (Task)</div>
                    
                    <div class="flex items-center justify-center w-full relative mb-8 px-4">
                        <div class="absolute top-[-20px] left-1/2 w-[60%] h-10 border-t-2 border-l-2 border-r-2 border-gray-300 rounded-t-3xl -translate-x-1/2"></div>
                        
                        <div class="flex gap-2 sm:gap-8 z-10 w-full justify-center">
                            <div class="bg-white border-2 border-orange-400 p-2 sm:p-4 rounded shadow-md w-24 sm:w-32 text-center">
                                <div class="flex justify-center mb-2"><i data-lucide="zap" class="text-orange-500 w-5 h-5"></i></div>
                                <div class="text-xs text-gray-500">Part 1</div>
                            </div>
                            <div class="bg-white border-2 border-orange-400 p-2 sm:p-4 rounded shadow-md w-24 sm:w-32 text-center">
                                <div class="flex justify-center mb-2"><i data-lucide="zap" class="text-orange-500 w-5 h-5"></i></div>
                                <div class="text-xs text-gray-500">Part 2</div>
                            </div>
                            <div class="bg-white border-2 border-orange-400 p-2 sm:p-4 rounded shadow-md w-24 sm:w-32 text-center">
                                <div class="flex justify-center mb-2"><i data-lucide="zap" class="text-orange-500 w-5 h-5"></i></div>
                                <div class="text-xs text-gray-500">Part 3</div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gray-100 border-2 border-gray-400 text-gray-800 px-8 py-3 rounded-lg shadow-inner flex items-center z-20 mt-2">
                        <i data-lucide="layers" class="mr-2 w-5 h-5"></i>
                        聚合结果
                    </div>
                </div>
            `,
            orchestrator: `
                <div class="relative w-full h-[400px] flex flex-col items-center justify-start pt-4 animate-fade-in">
                    <!-- Orchestrator -->
                    <div class="bg-indigo-600 text-white p-6 rounded-xl shadow-xl w-48 text-center z-20 mb-12">
                        <div class="font-bold text-lg">Orchestrator</div>
                        <div class="text-indigo-200 text-xs mt-1">规划与分发</div>
                    </div>

                    <!-- Workers Container -->
                    <div class="flex justify-center gap-4 sm:gap-6 w-full px-2">
                        <!-- Worker 1 -->
                        <div class="relative group">
                            <div class="absolute -top-12 left-1/2 h-12 w-0.5 bg-indigo-300 -translate-x-1/2"></div>
                            <div class="bg-white border-2 border-indigo-200 p-4 rounded-lg shadow-md w-28 sm:w-32 text-center">
                                <div class="flex justify-center mb-2"><i data-lucide="code" class="text-indigo-400 w-5 h-5"></i></div>
                                <div class="text-xs font-bold text-gray-700">代码编写</div>
                            </div>
                        </div>
                        <!-- Worker 2 -->
                        <div class="relative group">
                            <div class="absolute -top-12 left-1/2 h-12 w-0.5 bg-indigo-300 -translate-x-1/2"></div>
                            <div class="bg-white border-2 border-indigo-200 p-4 rounded-lg shadow-md w-28 sm:w-32 text-center">
                                <div class="flex justify-center mb-2"><i data-lucide="search" class="text-indigo-400 w-5 h-5"></i></div>
                                <div class="text-xs font-bold text-gray-700">文档搜索</div>
                            </div>
                        </div>
                        <!-- Worker 3 -->
                        <div class="relative group">
                            <div class="absolute -top-12 left-1/2 h-12 w-0.5 bg-indigo-300 -translate-x-1/2"></div>
                            <div class="bg-white border-2 border-indigo-200 p-4 rounded-lg shadow-md w-28 sm:w-32 text-center">
                                <div class="flex justify-center mb-2"><i data-lucide="bar-chart-2" class="text-indigo-400 w-5 h-5"></i></div>
                                <div class="text-xs font-bold text-gray-700">数据分析</div>
                            </div>
                        </div>
                    </div>
                </div>
            `,
            evaluator: `
                <div class="flex items-center justify-center w-full h-[320px] relative animate-fade-in">
                    <!-- Cycle Container -->
                    <div class="relative w-80 h-64 scale-90 sm:scale-100">
                        <!-- Generator -->
                        <div class="absolute top-0 left-1/2 -translate-x-1/2 bg-blue-500 text-white p-3 rounded-lg shadow-lg w-32 text-center z-20">
                            <div class="font-bold text-sm">Generator</div>
                            <div class="text-[10px] opacity-80">生成方案</div>
                        </div>

                        <!-- Evaluator -->
                        <div class="absolute bottom-0 right-0 bg-red-500 text-white p-3 rounded-lg shadow-lg w-32 text-center z-20">
                            <div class="font-bold text-sm">Evaluator</div>
                            <div class="text-[10px] opacity-80">评分反馈</div>
                        </div>

                        <!-- Optimizer -->
                        <div class="absolute bottom-0 left-0 bg-emerald-500 text-white p-3 rounded-lg shadow-lg w-32 text-center z-20">
                            <div class="font-bold text-sm">Optimizer</div>
                            <div class="text-[10px] opacity-80">优化输入</div>
                        </div>

                        <!-- Arrows SVG -->
                        <svg class="absolute top-0 left-0 w-full h-full pointer-events-none" style="z-index: 10;">
                            <defs>
                                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#94A3B8" />
                                </marker>
                            </defs>
                            <path d="M 210 40 Q 280 40 280 155" fill="none" stroke="#CBD5E1" stroke-width="3" marker-end="url(#arrowhead)" />
                            <path d="M 240 230 L 105 230" fill="none" stroke="#CBD5E1" stroke-width="3" marker-end="url(#arrowhead)" />
                            <path d="M 50 190 Q 50 40 105 40" fill="none" stroke="#CBD5E1" stroke-width="3" marker-end="url(#arrowhead)" />
                        </svg>

                        <!-- Spinner Icon -->
                        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-full p-2 shadow-sm border border-gray-100 z-10">
                            <i data-lucide="refresh-cw" class="text-gray-400 animate-spin-slow w-6 h-6"></i>
                        </div>
                    </div>
                </div>
            `
        };

        // --- Slides Data (保持不变) ---
        const slides = [
            {
                id: 'intro',
                title: 'Building Effective Agents',
                subtitle: '构建高效智能体：Anthropic 工程实践指南',
                content: `
                    <div class="text-center space-y-6 max-w-2xl mx-auto animate-fade-in pb-4">
                        <p class="text-gray-600 text-lg leading-relaxed">
                            在过去一年中，Anthropic 与众多客户合作构建了大量 AI 智能体。
                            核心发现是：<span class="font-bold text-gray-900">成功的系统往往不是复杂的自主 Agent，而是清晰的 Patterns（模式）。</span>
                        </p>
                        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 text-left my-6">
                            <p class="font-bold text-yellow-800">核心原则：</p>
                            <p class="text-yellow-700 italic">"Start with simple workflows. Add autonomy only when necessary."</p>
                        </div>
                        <p class="text-sm text-gray-500">点击右下角按钮开始浏览五大核心模式</p>
                    </div>
                `
            },
            {
                id: 'concept',
                title: 'Workflow vs. Agent',
                subtitle: '工作流与智能体的本质区别',
                content: `
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-4 animate-fade-in pb-4">
                        <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-blue-500">
                            <h3 class="text-xl font-bold text-blue-600 mb-4 flex items-center">
                                <i data-lucide="layers" class="mr-2"></i> Workflow (工作流)
                            </h3>
                            <ul class="space-y-3 text-gray-600 text-sm sm:text-base">
                                <li class="flex items-start"><span class="mr-2 text-blue-400">•</span> 路径是预定义的 (Predefined code paths)</li>
                                <li class="flex items-start"><span class="mr-2 text-blue-400">•</span> LLM 仅负责执行特定环节</li>
                                <li class="flex items-start"><span class="mr-2 text-blue-400">•</span> 高度可预测，易于测试</li>
                                <li class="flex items-start"><span class="mr-2 text-blue-400">•</span> 适合：数据抽取、翻译、分类</li>
                            </ul>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-purple-500">
                            <h3 class="text-xl font-bold text-purple-600 mb-4 flex items-center">
                                <i data-lucide="git-branch" class="mr-2"></i> Agent (智能体)
                            </h3>
                            <ul class="space-y-3 text-gray-600 text-sm sm:text-base">
                                <li class="flex items-start"><span class="mr-2 text-purple-400">•</span> LLM 动态控制流程 (Dynamic control)</li>
                                <li class="flex items-start"><span class="mr-2 text-purple-400">•</span> 自主决定使用什么工具</li>
                                <li class="flex items-start"><span class="mr-2 text-purple-400">•</span> 灵活性高，但容易出错</li>
                                <li class="flex items-start"><span class="mr-2 text-purple-400">•</span> 适合：开放式问题、多步推理解难</li>
                            </ul>
                        </div>
                    </div>
                `
            },
            {
                id: 'pattern-1',
                title: '模式 1: Prompt Chaining',
                subtitle: '提示词链 - 分解复杂任务的基础',
                diagramKey: 'chain',
                content: `
                    <div class="mt-6 text-gray-600 max-w-3xl mx-auto pb-4">
                        <p class="mb-4">
                            将一个复杂的任务拆解为多个顺序步骤。每个步骤的输出成为下一个步骤的输入。
                        </p>
                        <h4 class="font-bold text-gray-800 mb-2">何时使用？</h4>
                        <ul class="list-disc list-inside space-y-1 ml-4 text-sm sm:text-base">
                            <li>当单个 Prompt 包含了太多的指令，导致模型顾此失彼时。</li>
                            <li>当需要确保每一步的输出格式都绝对正确时。</li>
                            <li>这实际上是用延迟（Latency）换取了准确率（Accuracy）。</li>
                        </ul>
                    </div>
                `
            },
            {
                id: 'pattern-2',
                title: '模式 2: Routing',
                subtitle: '路由 - 让专业的人做专业的事',
                diagramKey: 'routing',
                content: `
                    <div class="mt-6 text-gray-600 max-w-3xl mx-auto pb-4">
                        <p class="mb-4">
                            先使用一个轻量级的模型（或分类 Prompt）来判定用户意图，然后将请求分发给专门的下游工作流。
                        </p>
                        <h4 class="font-bold text-gray-800 mb-2">何时使用？</h4>
                        <ul class="list-disc list-inside space-y-1 ml-4 text-sm sm:text-base">
                            <li>任务类型多样，单一 Prompt 无法处理所有情况。</li>
                            <li>为了节省成本（简单问题路由给小模型，复杂问题给大模型）。</li>
                            <li>例如：客户服务机器人（退款 vs 技术故障 vs 售前咨询）。</li>
                        </ul>
                    </div>
                `
            },
            {
                id: 'pattern-3',
                title: '模式 3: Parallelization',
                subtitle: '并行化 - 速度与质量的双重保障',
                diagramKey: 'parallel',
                content: `
                    <div class="mt-6 text-gray-600 max-w-3xl mx-auto pb-4">
                        <p class="mb-4">
                            同时运行多个 LLM 任务，然后聚合结果。主要有两种变体：
                            <span class="font-bold text-gray-800">Sectioning (分节)</span> 和 <span class="font-bold text-gray-800">Voting (投票)</span>。
                        </p>
                        <h4 class="font-bold text-gray-800 mb-2">何时使用？</h4>
                        <ul class="list-disc list-inside space-y-1 ml-4 text-sm sm:text-base">
                            <li><span class="font-semibold">Sectioning:</span> 处理超长文档或多个独立子任务时（如并行审查合同的每一页）。</li>
                            <li><span class="font-semibold">Voting:</span> 需要高安全性或减少幻觉时（让三个模型分别生成，再让第四个模型选最好的）。</li>
                        </ul>
                    </div>
                `
            },
            {
                id: 'pattern-4',
                title: '模式 4: Orchestrator-Workers',
                subtitle: '编排者-执行者 - 解决复杂问题的利器',
                diagramKey: 'orchestrator',
                content: `
                    <div class="mt-6 text-gray-600 max-w-3xl mx-auto pb-4">
                        <p class="mb-4">
                            一个中央 LLM（编排者）负责分析任务、规划步骤，并动态分配给特定的 Worker（也是 LLM 或工具）。
                            Worker 完成后将结果返回给编排者整合。
                        </p>
                        <h4 class="font-bold text-gray-800 mb-2">何时使用？</h4>
                        <ul class="list-disc list-inside space-y-1 ml-4 text-sm sm:text-base">
                            <li>你无法预知完成任务需要哪些具体子任务。</li>
                            <li>任务非常复杂，单一上下文无法容纳所有必要信息。</li>
                            <li>如：从零开始编写一个复杂的软件模块，需要先规划文件结构，再分别编写代码。</li>
                        </ul>
                    </div>
                `
            },
            {
                id: 'pattern-5',
                title: '模式 5: Evaluator-Optimizer',
                subtitle: '评估器-优化器 - 自我进化的闭环',
                diagramKey: 'evaluator',
                content: `
                    <div class="mt-6 text-gray-600 max-w-3xl mx-auto pb-4">
                        <p class="mb-4">
                            这是一个循环结构。Generator 生成初步结果，Evaluator 对其打分并提出修改意见，Optimizer 根据反馈重新生成。直到达到标准或达到最大循环次数。
                        </p>
                        <h4 class="font-bold text-gray-800 mb-2">何时使用？</h4>
                        <ul class="list-disc list-inside space-y-1 ml-4 text-sm sm:text-base">
                            <li>明确的成功标准比生成过程更容易定义时（如翻译、代码生成）。</li>
                            <li>你需要高质量的输出，并且愿意为了质量牺牲一些时间。</li>
                            <li>这是模仿人类“写草稿 → 修改 → 定稿”的过程。</li>
                        </ul>
                    </div>
                `
            }
        ];

        // --- Application Logic ---
        let currentSlideIndex = 0;
        const container = document.getElementById('slide-container');
        const slideCounter = document.getElementById('slide-counter');
        const progressBar = document.getElementById('progress-bar');
        const btnPrev = document.getElementById('btn-prev');
        const btnNext = document.getElementById('btn-next');
        const mainElement = document.querySelector('main');

        function renderSlide(index) {
            const slide = slides[index];
            const isFirst = index === 0;
            const isLast = index === slides.length - 1;

            const diagramHtml = slide.diagramKey ? 
                `<div class="w-full mb-8 flex justify-center py-4 bg-gray-50/50 rounded-xl border border-dashed border-gray-200 overflow-hidden">
                    ${Diagrams[slide.diagramKey]}
                 </div>` : '';

            container.innerHTML = `
                <div class="flex-1 flex flex-col items-center animate-fade-in w-full">
                    <h2 class="text-2xl sm:text-4xl font-bold text-gray-800 text-center mb-2">${slide.title}</h2>
                    <h3 class="text-lg sm:text-xl text-gray-500 text-center mb-6 sm:mb-8 font-light">${slide.subtitle}</h3>
                    ${diagramHtml}
                    <div class="w-full">
                        ${slide.content}
                    </div>
                </div>
            `;

            slideCounter.textContent = `Slide ${index + 1} of ${slides.length}`;
            progressBar.style.width = `${((index + 1) / slides.length) * 100}%`;

            btnPrev.disabled = isFirst;
            btnNext.disabled = isLast;

            // 每次切换时，让主内容区域滚动回顶部
            mainElement.scrollTo({ top: 0, behavior: 'smooth' });

            lucide.createIcons();
        }

        function nextSlide() {
            if (currentSlideIndex < slides.length - 1) {
                currentSlideIndex++;
                renderSlide(currentSlideIndex);
            }
        }

        function prevSlide() {
            if (currentSlideIndex > 0) {
                currentSlideIndex--;
                renderSlide(currentSlideIndex);
            }
        }

        btnNext.addEventListener('click', nextSlide);
        btnPrev.addEventListener('click', prevSlide);

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });

        renderSlide(currentSlideIndex);

    </script>
</body>
</html>